(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ba9c822"],{2410:function(e,t,n){"use strict";n("76aa")},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"4d3c":function(e,t,n){"use strict";var r=n("7a23"),a=n("1795"),c=n.n(a),s=n("a9e6"),o=n.n(s),i=Object(r["T"])("data-v-5d0c5c26");Object(r["E"])("data-v-5d0c5c26");var u={class:"throw-header"},l={class:"top-box"},d=Object(r["l"])("div",{class:"logo flex-center"},[Object(r["l"])("img",{src:c.a,alt:""})],-1),b={class:"top-title"},f={class:"address-box"},h=Object(r["l"])("div",{class:"adderss-title"},[Object(r["l"])("img",{src:o.a,alt:""})],-1),O={class:"address-content"};Object(r["C"])();var v=i((function(e,t,n,a,c,s){return Object(r["B"])(),Object(r["h"])("div",u,[Object(r["l"])("div",l,[d,Object(r["l"])("div",b,Object(r["M"])(e.$t("nts.全球首家去中心化鏈遊綜合服務平台")),1)]),Object(r["l"])("div",f,[h,Object(r["l"])("div",O,Object(r["M"])(n.address),1)])])})),p=n("5530"),j=n("47e2"),m={props:{address:String},setup:function(){var e=Object(j["b"])(),t=e.t,n=Object(r["F"])({$t:t}),a=Object(r["N"])(n);return Object(p["a"])({},a)}};n("2410");m.render=v,m.__scopeId="data-v-5d0c5c26";t["a"]=m},"6aae":function(e,t,n){"use strict";n("93a6")},"76aa":function(e,t,n){},"93a6":function(e,t,n){},a9e6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYIAAAAbBAMAAACDypWFAAAAAXNSR0IArs4c6QAAADBQTFRFAAAA/5YP/54X/5sU/54X/5wV/54U/5wV/54V/50W/54V/50U/54V/50V/50V/50VOE1HjwAAAA90Uk5TABEiM0RVZneImaq7zN3uRir1mQAABARJREFUGBnFwcFvW/UBwPGvWzfJEieuOG2agEg7TOOwhObCAdFIu+wyEsSlJ1LtH4hP44BYusvkTUAqIY4QS5M4cJh9m7YDthAVlTA8TwwJiam2dtlhzM9NXCd2nffd7z1SiUS9RKV7nw/fh8Ivf99ut1f51ly73b4Fb7Tb7U2+a67d/oTT3mi3PyFvF659rrWu/lGnBBfUHqxoQmZRJwSF2DGZkk5JreiYnH1uqtLUv2hCMK9WoKkjMhf1iFTXQzKF2Ampsh6Sr4tm1vf0SxV4JVb7/bfVL9bWrgBFHfFkv9+LHcJlAj0idVWH5GvGYLzMtv5LXYVdM6+bOQRm9YAF/bsOfvphDyjqiNS2DsjX7D+beg9WdP9Ov78JdTN7Zu4B8zqgpB9roi1gVg9I7WqPvNV1H5Z0RCbSthqb2QcWtMeS/s1UDZjXASW9W9cO+XquGulRtfqW3q9Wq6vQVcy8/YIOgEVtUfbEDWBBeyxqL9IG+ap7ynXQ5IKphLJ24NpbevvVrqm+Xofn3tSvKmXtdPV2tUKeIk9Z54JOL5kasaEtaBp8ZuY1XYc9g86Ktky1yFPXU+CS3p/VCcGO1iAy+LP6ov5KgaZBa0v/ZKrGI/F8OKuoVqCgrhLM6XheD3+ytra8pxWIDXZjk7I+ZQJEBrUd/Y2pG5zi+eD5cNasugnEWqEA8zp+XodNbTR1E9bqunY5crphUnYKrO3py8t1vaYJZ3k+PKofqKvFG0Rau/Q1lMzc3dVOpMtA0wRiJzseb3ifYE8h0mf0mLwtqO/aoa634jEsmult6SBWgsgp6NGe0x3HBE0T6GpJp+StZKrBjsEIymY6ZR3qMUHshIs6ajqpe0gQOYXY40WdkLPCb03dZMNgCCv6xba2FnWiUwI9YkaHkYeR+wSxEwo6Leshj40PxWnzsamvLvO0wU3Y0saO1hY00QlQ1BFzOogda4VAjyjqZEXvcZYPxfn5UJy2ZHB/FX6kJr8DdrRW18qcqSNgRofMa08P1p4lKOqIWT3c0n3O8qF4TMoGI/ixwYSgrpWmbs6YGgFzOrhS0o/a7QaZGR1emdd7OzogXxv/ifQA9gymBJGud3UZKOkBsKAOl7RG6jowp44WdL+uHfL1BE0dQNNEk0IDukqsBEs6gJ9F6qCst6vBHzrww0g9WNRBpC3yFmkPouNfqHELYu3rMcGW9mDXoHfVEy3YNhjHmqhJv0OuZtQWfLOKQY2CmSlQjLUFdYPGticasGvwqQ+0yNWWehNWoaveoGhmAvxc3YTI/76zzK4nalD3+P3lkg80yNMl9fgyqaa6yWw/828o3On3/wH89SWC9/onKvDBr4HF/gM3ydNctVpdJ3OtWq0u8//3PztYUP9m/BW8AAAAAElFTkSuQmCC"},b680:function(e,t,n){"use strict";var r=n("23e7"),a=n("a691"),c=n("408a"),s=n("1148"),o=n("d039"),i=1..toFixed,u=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},d=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},b=function(e,t,n){var r=-1,a=n;while(++r<6)a+=t*e[r],e[r]=a%1e7,a=u(a/1e7)},f=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=u(r/t),r=r%t*1e7},h=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=String(e[t]);n=""===n?r:n+s.call("0",7-r.length)+r}return n},O=i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){i.call({})}));r({target:"Number",proto:!0,forced:O},{toFixed:function(e){var t,n,r,o,i=c(this),u=a(e),O=[0,0,0,0,0,0],v="",p="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(v="-",i=-i),i>1e-21)if(t=d(i*l(2,69,1))-69,n=t<0?i*l(2,-t,1):i/l(2,t,1),n*=4503599627370496,t=52-t,t>0){b(O,0,n),r=u;while(r>=7)b(O,1e7,0),r-=7;b(O,l(10,r,1),0),r=t-1;while(r>=23)f(O,1<<23),r-=23;f(O,1<<r),b(O,1,1),f(O,2),p=h(O)}else b(O,0,n),b(O,1<<-t,0),p=h(O)+s.call("0",u);return u>0?(o=p.length,p=v+(o<=u?"0."+s.call("0",u-o)+p:p.slice(0,o-u)+"."+p.slice(o-u))):p=v+p,p}})},ffdc:function(e,t,n){"use strict";n.r(t);n("a9e3");var r=n("7a23"),a=Object(r["T"])("data-v-76f04f0f");Object(r["E"])("data-v-76f04f0f");var c={class:"throw-box"},s={class:"bottom-box"},o={class:"bottom-title"},i=Object(r["l"])("div",{class:"bottom-content"},[Object(r["l"])("span",{class:"num"},"10000"),Object(r["l"])("span",{class:"name"},"hub!")],-1),u={class:"bottom-btn"},l=Object(r["k"])("参投"),d={class:"check-box"},b={class:"check-text"};Object(r["C"])();var f=a((function(e,t,n,f,h,O){var v=Object(r["I"])("throw-header"),p=Object(r["I"])("van-button"),j=Object(r["I"])("van-checkbox"),m=Object(r["I"])("app-agreement"),g=Object(r["I"])("van-popup"),w=Object(r["I"])("app-agreement-en");return Object(r["B"])(),Object(r["h"])("div",c,[Object(r["l"])(v,{address:e.address},null,8,["address"]),Object(r["l"])("div",s,[Object(r["l"])("div",o,Object(r["M"])(e.$t("nts.参投USDT将获得",{num:e.num})),1),i,Object(r["l"])("div",u,[e.isInvest?(Object(r["B"])(),Object(r["h"])(p,{key:0,type:"primary",onClick:t[1]||(t[1]=function(t){return e.$router.push({name:"ThrowDetail"})}),size:"large"},{default:a((function(){return[Object(r["k"])(Object(r["M"])(e.$t("nts.查看参投详情")),1)]})),_:1})):Number(e.allowance)<=0?(Object(r["B"])(),Object(r["h"])(p,{key:1,type:"primary",loading:e.loading,onClick:e.approve,"loading-text":e.$t("nts.授权中..."),size:"large"},{default:a((function(){return[Object(r["k"])(Object(r["M"])(e.$t("nts.授权USDT")),1)]})),_:1},8,["loading","onClick","loading-text"])):(Object(r["B"])(),Object(r["h"])(p,{key:2,type:"primary",loading:e.loading,"loading-text":e.$t("nts.参投中..."),onClick:e.invest,size:"large"},{default:a((function(){return[l]})),_:1},8,["loading","loading-text","onClick"]))]),Object(r["l"])("div",d,[Object(r["l"])(j,{"label-disabled":"",modelValue:e.checked,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.checked=t}),"checked-color":"#FF9D15"},{default:a((function(){return[Object(r["l"])("span",b,Object(r["M"])(e.$t("nts.Gamehub 參投告知說明")),1)]})),_:1},8,["modelValue"])])]),"zh-cn"==e.locale?(Object(r["B"])(),Object(r["h"])(g,{key:0,round:"",closeable:"","close-icon":"close",show:e.showAgreement,"onUpdate:show":t[3]||(t[3]=function(t){return e.showAgreement=t}),style:{height:"90%",width:"96%"}},{default:a((function(){return[Object(r["l"])(m)]})),_:1},8,["show"])):Object(r["i"])("",!0),"en"==e.locale?(Object(r["B"])(),Object(r["h"])(g,{key:1,round:"",closeable:"","close-icon":"close",show:e.showAgreement,"onUpdate:show":t[4]||(t[4]=function(t){return e.showAgreement=t}),style:{height:"90%",width:"96%"}},{default:a((function(){return[Object(r["l"])(w)]})),_:1},8,["show"])):Object(r["i"])("",!0)])})),h=n("5530"),O=n("1da1"),v=(n("b680"),n("96cf"),n("4d3c")),p=n("0ad4"),j=n("dc52"),m=n("47e2"),g=n("5502"),w=n("01ea"),A=n("722f"),k=n("440b"),x=n("b311"),y=n.n(x),C=n("626a");const F="0x0000000000000000000000000000000000000000";var I=n("9d56"),B=n("98b3"),N=n("6c02"),W={components:{ThrowHeader:v["a"],AppAgreement:p["a"],AppAgreementEn:j["a"]},setup:function(){var e=new y.a(".copy");e.on("success",(function(e){Object(C["a"])(a("share.复制成功")),e.clearSelection()})),e.on("error",(function(){Object(C["a"])(a("share.复制失败，请手动长按复制"))}));var t=Object(g["b"])(),n=Object(m["b"])(),a=n.t,c=Object(N["c"])(),s=Object(r["F"])({$t:a,showAgreement:!1,address:Object(r["f"])((function(){return t.state.accounts[0]})),web3:Object(r["f"])((function(){return t.state.provider})),investContract:null,usdtContract:null,allowance:"",checked:!0,loading:!1,isInvest:!1,intro:B["a"].get()||w["a"].rootAddress,num:0,locale:Object(r["f"])((function(){return t.state.locale})),initContract:function(){s.investContract=new s.web3.eth.Contract(k,w["a"].investAddress),s.usdtContract=new s.web3.eth.Contract(A,w["a"].usdtAddress),s.initData()},initData:function(){s.getAllowance(),s.getIntro(),s.getInvestNumber()},getAllowance:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.usdtContract.methods.allowance(s.address,w["a"].investAddress).call();case 2:t=e.sent,s.allowance=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getInvestNumber:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.usdtContract.methods.decimals().call();case 2:return t=e.sent,e.next=5,s.investContract.methods.usdtNum().call();case 5:n=e.sent,s.num=Number(n/Math.pow(10,t)).toFixed(2);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getIntro:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.investContract.methods.getIntro(s.address).call();case 2:t=e.sent,s.isInvest=t!=F;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),approve:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.loading=!0,e.prev=1,e.next=4,s.usdtContract.methods.approve(w["a"].investAddress,I["a"]).send({from:s.address});case 4:Object(C["a"])(a("nts.授权成功")),s.getAllowance(),s.loading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(C["a"])(a("nts.授权失败")),s.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),invest:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.checked){e.next=3;break}return Object(C["a"])(a("nts.请先同意协议")),e.abrupt("return");case 3:return e.next=5,s.usdtContract.methods.balanceOf(s.address).call();case 5:return t=e.sent,e.next=8,s.investContract.methods.usdtNum().call();case 8:if(n=e.sent,!(Number(n)>Number(t))){e.next=12;break}return Object(C["a"])(a("nts.余额不足")),e.abrupt("return");case 12:return e.next=14,s.investContract.methods.getIntro(s.intro).call();case 14:if(r=e.sent,r!=F||s.intro==w["a"].rootAddress){e.next=18;break}return Object(C["a"])(a("nts.推荐人无效")),e.abrupt("return");case 18:return s.loading=!0,e.prev=19,e.next=22,s.investContract.methods.raiseUsdt(s.intro).estimateGas({from:s.address});case 22:return o=e.sent,e.next=25,s.investContract.methods.raiseUsdt(s.intro).send({from:s.address,gas:o});case 25:Object(C["a"])(a("nts.参投成功")),c.push({name:"ThrowDetail"}),s.loading=!1,s.initData(),e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](19),s.loading=!1,Object(C["a"])(a("nts.质押失败"));case 35:case"end":return e.stop()}}),e,null,[[19,31]])})));function t(){return e.apply(this,arguments)}return t}(),timeEnd:function(){}});s.address&&s.initContract(),Object(r["Q"])((function(){return s.address}),(function(e){e&&s.initContract()}));var o=Object(r["N"])(s);return Object(h["a"])({},o)}};n("6aae");W.render=f,W.__scopeId="data-v-76f04f0f";t["default"]=W}}]);
//# sourceMappingURL=chunk-4ba9c822.c761452b.js.map